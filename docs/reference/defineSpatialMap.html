<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>SLiM method defineSpatialMap — defineSpatialMap • slimr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="SLiM method defineSpatialMap — defineSpatialMap" />
<meta property="og:description" content="Documentation for SLiM function defineSpatialMap, which is a method of
the SLiM class Subpopulation.
Note that the R function is a stub, it does not do anything in R (except bring
up this documentation). It will only do
anything useful when used inside a slim_block function further
nested in a slim_script
function call, where it will be translated into valid SLiM code as part of a
full SLiM script." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">slimr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/articles/Custom_vis.html">Custom Live Plotting for SLiM</a>
    </li>
    <li>
      <a href="../articles/articles/simple_example_using_migration_and_fst.html">simple_example_using_migration_and_fst</a>
    </li>
    <li>
      <a href="../articles/installing_SLiM_for_slimr.html">How to Install SLiM for Use with slimr</a>
    </li>
    <li>
      <a href="../articles/slimrlang_intro.html">Introduction to slimr: Writing SLiM scripts from R</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rdinnager/slimr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>SLiM method defineSpatialMap</h1>
    <small class="dont-index">Source: <a href='https://github.com/rdinnager/slimr/blob/master/R/slim_lang.R'><code>R/slim_lang.R</code></a></small>
    <div class="hidden name"><code>defineSpatialMap.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Documentation for SLiM function <code>defineSpatialMap</code>, which is a method of
the SLiM class <code><a href='Subpopulation.html'>Subpopulation</a></code>.
Note that the R function is a stub, it does not do anything in R (except bring
up this documentation). It will only do
anything useful when used inside a <code><a href='slim_block.html'>slim_block</a></code> function further
nested in a <code><a href='slim_script.html'>slim_script</a></code>
function call, where it will be translated into valid SLiM code as part of a
full SLiM script.</p>
    </div>

    <pre class="usage"><span class='fu'>defineSpatialMap</span><span class='op'>(</span><span class='va'>name</span>, <span class='va'>spatiality</span>, <span class='va'>values</span>, <span class='va'>interpolate</span>, <span class='va'>valueRange</span>, <span class='va'>colors</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>name</th>
      <td><p>An object of type string. Must be of length 1 (a singleton). See
details for description.</p></td>
    </tr>
    <tr>
      <th>spatiality</th>
      <td><p>An object of type string. Must be of length 1 (a singleton).
See details for description.</p></td>
    </tr>
    <tr>
      <th>values</th>
      <td><p>An object of type numeric. See details for description.</p></td>
    </tr>
    <tr>
      <th>interpolate</th>
      <td><p>An object of type logical. Must be of length 1 (a singleton).
The default value is <code>F</code>. See details for description.</p></td>
    </tr>
    <tr>
      <th>valueRange</th>
      <td><p>An object of type null or integer or float. The default value
is <code>NULL</code>. See details for description.</p></td>
    </tr>
    <tr>
      <th>colors</th>
      <td><p>An object of type null or string. The default value is
<code>NULL</code>. See details for description.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of type void.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Documentation for this function can be found in the official <a href='http://
benhaller.com/slim/SLiM_Manual.pdf#page=582'>SLiM manual: page 582</a>.</p>
<p>Defines a spatial map for the subpopulation. The map will henceforth
be identified by name. The map uses the spatial dimensions referenced by
spatiality, which must be a subset of the dimensions defined for the simulation
in initializeSLiMOptions(). Spatiality "x" is permitted for dimensionality
"x"; spatiality "x", "y", or "xy" for dimensionality "xy"; and spatiality "x",
"y", "z", "xy", "yz", "xz", or "xyz" for dimensionality "xyz". The spatial
map is defined by a grid of values supplied in parameter values. The remaining
optional parameters are described below. Note that the semantics of this method
changed in SLiM 3.5; in particular, the gridSize parameter was removed, and
the interpretation of the values parameter changed as described below. Existing
code written prior to SLiM 3.5 will produce an error, due to the removed
gridSize parameter, and must be revised carefully to obtain the same result,
even if NULL had been passed for gridSize previously. Beginning in SLiM 3.5,
the values parameter must be a vector/matrix/array with the number of dimensions
appropriate for the declared spatiality of the map; for example, a map with
spatiality "x" would require a (one-dimensional) vector, spatiality "xy" would
require a (two-dimensional) matrix, and a map with spatiality of "xyz" would
require a three-dimensional array. (See the Eidos manual for discussion of
vectors, matrices, and arrays.) The data in values is interpreted in such a way
that a two-dimensional matrix of values, with (0, 0) at upper left and values
by column, is transformed into the format expected by SLiM, with (0, 0) at
lower left and values by row; in other words, the twodimensional matrix as it
prints in the Eidos console will match the appearance of the two-dimensional
spatial map as seen in SLiMgui. This is a change in behavior from versions
prior to SLiM 3.5; it ensures that images loaded from disk with the Eidos class
Image can be used directly as spatial maps, achieving the expected orientation,
with no need for transposition or flipping. If the spatial map is a three-
dimensional array, it is read as successive z-axis "planes”, each of which is
a two-dimensional matrix that is treated as described above. Moving on to the
other parameters of defineSpatialMap(): if interpolate is F, values across the
spatial map are not interpolated; the value at a given point is equal to the
nearest value defined by the grid of values specified. If interpolate is T,
values across the spatial map will be interpolated (using linear, bilinear,
or trilinear interpolation as appropriate) to produce spatially continuous
variation in values. In either case, the corners of the value grid are exactly
aligned with the corners of the spatial boundaries of the subpopulation as
specified by setSpatialBoundary(), and the value grid is then stretched across
the spatial extent of the subpopulation in such a manner as to produce equal
spacing between the values along each dimension. The setting of interpolation
only affects how values between these grid points are calculated: by nearest-
neighbor, or by linear interpolation. Interpolation of spatial maps with
periodic boundaries is not handled specially; to ensure that the edges of a
periodic spatial map join smoothly, simply ensure that the grid values at the
edges of the map are identical, since they will be coincident after periodic
wrapping. The valueRange and colors parameters travel together; either both
are unspecified, or both are specified. They control how map values will be
transformed into colors, by SLiMgui and by the spatialMapColor() method. The
valueRange parameter establishes the color-mapped range of spatial map values,
as a vector of length two specifying a minimum and maximum; this does not
need to match the actual range of values in the map. The colors parameter then
establishes the corresponding colors for values within the interval defined by
valueRange: values less than or equal to valueRange[0] will map to colors[0],
values greater than or equal to valueRange[1] will map to the last colors value,
and intermediate values will shade continuously through the specified vector
of colors, with interpolation between adjacent colors to produce a continuous
spectrum. This is much simpler than it sounds in this description; see the
recipes in chapter 15 for an illustration of its use. Note that at present,
SLiMgui will only display spatial maps of spatiality "x", "y", or "xy"; the
colormapping parameters will simply be ignored by SLiMgui for other spatiality
values (even if the spatiality is a superset of these values; SLiMgui will
not attempt to display an "xyz" spatial map, for example, since it has no
way to choose which 2D slice through the xyz space it ought to display). The
spatialMapColor() method will return translated color strings for any spatial
map, however, even if SLiMgui is unable to display the spatial map. If there are
multiple spatial maps that SLiMgui is capable of displaying, it choose one for
display by default, but other maps may be selected from the context menu on the
individuals view (with a right-click or control-click).</p>
    <h2 class="hasAnchor" id="copyright"><a class="anchor" href="#copyright"></a>Copyright</h2>

    

<p>This is documentation for a function in the SLiM software, and has been
reproduced from the official manual,
which can be found here: <a href='http://benhaller.com/slim/SLiM_Manual.pdf'>http://benhaller.com/slim/SLiM_Manual.pdf</a>. This
documentation is
Copyright © 2016–2020 Philipp Messer. All rights reserved. More information
about SLiM can be found
on the official website: <a href='https://messerlab.org/slim/'>https://messerlab.org/slim/</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other Subpopulation: 
<code><a href='Subpopulation.html'>Subpopulation</a></code>,
<code><a href='addCloned.html'>addCloned</a>()</code>,
<code><a href='addCrossed.html'>addCrossed</a>()</code>,
<code><a href='addEmpty.html'>addEmpty</a>()</code>,
<code><a href='addRecombinant.html'>addRecombinant</a>()</code>,
<code><a href='addSelfed.html'>addSelfed</a>()</code>,
<code><a href='cachedFitness.html'>cachedFitness</a>()</code>,
<code><a href='configureDisplay.html'>configureDisplay</a>()</code>,
<code><a href='outputMSSample.html'>outputMSSample</a>()</code>,
<code><a href='outputSample.html'>outputSample</a>()</code>,
<code><a href='outputVCFSample.html'>outputVCFSample</a>()</code>,
<code><a href='pointInBounds.html'>pointInBounds</a>()</code>,
<code><a href='pointPeriodic.html'>pointPeriodic</a>()</code>,
<code><a href='pointReflected.html'>pointReflected</a>()</code>,
<code><a href='pointStopped.html'>pointStopped</a>()</code>,
<code><a href='pointUniform.html'>pointUniform</a>()</code>,
<code><a href='removeSubpopulation.html'>removeSubpopulation</a>()</code>,
<code><a href='sampleIndividuals.html'>sampleIndividuals</a>()</code>,
<code><a href='setCloningRate.html'>setCloningRate</a>()</code>,
<code><a href='setMigrationRates.html'>setMigrationRates</a>()</code>,
<code><a href='setSelfingRate.html'>setSelfingRate</a>()</code>,
<code><a href='setSexRatio.html'>setSexRatio</a>()</code>,
<code><a href='setSpatialBounds.html'>setSpatialBounds</a>()</code>,
<code><a href='setSubpopulationSize.html'>setSubpopulationSize</a>()</code>,
<code><a href='spatialMapColor.html'>spatialMapColor</a>()</code>,
<code><a href='spatialMapValue.html'>spatialMapValue</a>()</code>,
<code><a href='subsetIndividuals.html'>subsetIndividuals</a>()</code>,
<code><a href='takeMigrants.html'>takeMigrants</a>()</code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Benjamin C Haller (<a href='mailto:bhaller@benhaller.com'>bhaller@benhaller.com</a>) and Philipp W Messer
(<a href='mailto:messer@cornell.edu'>messer@cornell.edu</a>)</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Russell Dinnage, Stephen Sarre, Bernd Gruber, Richard Duncan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


