<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>SLiM survival() callback — survival • slimr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="SLiM survival() callback — survival"><meta property="og:description" content="The survival() callback will be called during the selection phase of the tick cycle of nonWF
models, during the tick(s) in which it is active. By default it will be called once per individual in
the entire population (whether slated for survival or not); it may optionally be restricted to apply
only to individuals in a specified subpopulation, using the &amp;lt;subpop-id&amp;gt; specifier. (In multispecies
models, the definition must be preceded by a species specification as usual.)
When a survival() callback is called, a focal individual has already been evaluated by SLiM
regarding its survival; a final fitness value for the individual has been calculated, and a random
uniform draw in [0,1] has been generated that determines whether the individual is to survive (a
draw less than the individual’s fitness) or die (a draw greater than or equal to the individual’s
fitness). The focal individual is provided to the callback, as is the subpopulation in which it
resides. Furthermore, the preliminary decision (whether the focal individual will survive or not),
the focal individual’s fitness, and the random draw made by SLiM to determine survival are also
provided to the callback. The callback may return NULL to accept SLiM’s decision, or may return T
to indicate that the individual should survive, or F to indicate that it should die, regardless of its
fitness and the random deviate drawn. The callback may also return a singleton Subpopulation
object to indicate the individual should remain alive but should be moved to that subpopulation
(note that calling takeMigrants() during the survival phase is illegal, because SLiM is busy
modifying the population’s internal state). For more details
see SLiM Manual: page 727"><meta property="og:image" content="https://rdinnager.github.io/slimr/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">slimr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Custom_vis.html">Custom Live Plotting for SLiM</a>
    </li>
    <li>
      <a href="../articles/Main_manuscript_example_v2.html">Using slimr to investigate the population genetics of the Sandy Inland Mouse in the periodic rainfall environment of the Simpson Desert</a>
    </li>
    <li>
      <a href="../articles/multispecies.html">Advanced Example: Multispecies Model</a>
    </li>
    <li>
      <a href="../articles/simple_example_using_migration_and_fst.html">simple_example_using_migration_and_fst</a>
    </li>
    <li>
      <a href="../articles/installing_SLiM_for_slimr.html">How to Install SLiM for Use with slimr</a>
    </li>
    <li>
      <a href="../articles/simple_nucleotide_example.html">Simple Example of a Simulation using Nucleotides</a>
    </li>
    <li>
      <a href="../articles/slimrlang_intro.html">Introduction to slimr: Writing SLiM scripts from R</a>
    </li>
    <li>
      <a href="../articles/useful_tables.html">Useful slimr Tables</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/rdinnager/slimr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>SLiM survival() callback</h1>
    <small class="dont-index">Source: <a href="https://github.com/rdinnager/slimr/blob/HEAD/R/slim_callbacks.R" class="external-link"><code>R/slim_callbacks.R</code></a></small>
    <div class="hidden name"><code>survival.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The survival() callback will be called during the selection phase of the tick cycle of nonWF
models, during the tick(s) in which it is active. By default it will be called once per individual in
the entire population (whether slated for survival or not); it may optionally be restricted to apply
only to individuals in a specified subpopulation, using the &lt;subpop-id&gt; specifier. (In multispecies
models, the definition must be preceded by a species specification as usual.)
When a survival() callback is called, a focal individual has already been evaluated by SLiM
regarding its survival; a final fitness value for the individual has been calculated, and a random
uniform draw in [0,1] has been generated that determines whether the individual is to survive (a
draw less than the individual’s fitness) or die (a draw greater than or equal to the individual’s
fitness). The focal individual is provided to the callback, as is the subpopulation in which it
resides. Furthermore, the preliminary decision (whether the focal individual will survive or not),
the focal individual’s fitness, and the random draw made by SLiM to determine survival are also
provided to the callback. The callback may return NULL to accept SLiM’s decision, or may return T
to indicate that the individual should survive, or F to indicate that it should die, regardless of its
fitness and the random deviate drawn. The callback may also return a singleton Subpopulation
object to indicate the individual should remain alive but should be moved to that subpopulation
(note that calling takeMigrants() during the survival phase is illegal, because SLiM is busy
modifying the population’s internal state). For more details
see <a href="http://benhaller.com/slim/SLiM_Manual.pdf#page=727" class="external-link">SLiM Manual: page 727</a></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">survival</span><span class="op">(</span><span class="va">subpop_id</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>subpop_id</dt>
<dd><p>The id(s) of the subpopulation(s) to which this callback should apply. Can
be an integer 1, 2, etc., or character "p1", "p2", etc.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>None</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Global variables available in reproduction callbacks:</p><dl><dt>individual</dt>
<dd><p>The focal parent that is generating a gamete</p></dd>

  <dt>subpop</dt>
<dd><p>The subpopulation to which the focal parent belongs</p></dd>

  <dt>surviving</dt>
<dd><p>A logical value indicating SLiM’s preliminary decision (T == survival)</p></dd>

  <dt>fitness</dt>
<dd><p>The focal individual’s fitness</p></dd>

  <dt>draw</dt>
<dd><p>SLiM’s random uniform deviate, which determined the preliminary decision</p></dd>


</dl></div>
    <div id="copyright">
    <h2>Copyright</h2>
    

<p>This is documentation for a function in the SLiM software, and has been
modified from the official manual,
which can be found here: <a href="http://benhaller.com/slim/SLiM_Manual.pdf" class="external-link">http://benhaller.com/slim/SLiM_Manual.pdf</a>. This
documentation is
Copyright © 2016-2020 Philipp Messer. All rights reserved. More information
about SLiM can be found
on the official website: <a href="https://messerlab.org/slim/" class="external-link">https://messerlab.org/slim/</a></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other callbacks: 
<code><a href="early.html">early</a>()</code>,
<code><a href="first.html">first</a>()</code>,
<code><a href="fitnessEffect.html">fitnessEffect</a>()</code>,
<code><a href="fitness.html">fitness</a>()</code>,
<code><a href="callback_initialize.html">initialize</a>()</code>,
<code><a href="interaction.html">interaction</a>()</code>,
<code><a href="late.html">late</a>()</code>,
<code><a href="mateChoice.html">mateChoice</a>()</code>,
<code><a href="modifyChild.html">modifyChild</a>()</code>,
<code><a href="mutationEffect.html">mutationEffect</a>()</code>,
<code>mutation()</code>,
<code><a href="recombination.html">recombination</a>()</code>,
<code><a href="reproduction.html">reproduction</a>()</code>,
<code><a href="slim_callbacks.html">slim_callbacks</a>()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Benjamin C Haller (<a href="mailto:bhaller@benhaller.com">bhaller@benhaller.com</a>) and Philipp W Messer
(<a href="mailto:messer@cornell.edu">messer@cornell.edu</a>)</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># From page 461 of the SLiM Manual</span></span></span>
<span class="r-in"><span><span class="fu"><a href="slim_block.html">slim_block</a></span><span class="op">(</span><span class="fu">survival</span><span class="op">(</span><span class="va">p1</span><span class="op">)</span>, <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># move dying males into cold storage in case they have mated</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="va">surviving</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="kw">if</span> <span class="op">(</span><span class="va">individual.sex</span> <span class="op">==</span> <span class="st">"M"</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>      <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">p1000</span><span class="op">)</span>;</span></span>
<span class="r-in"><span>    <span class="op">}</span></span></span>
<span class="r-in"><span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>;</span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A slimr_block:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;slimr_script[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="background-color: #00BBBB; font-weight: bold;">block_1:</span>1:1 survival(p1) <span style="color: #BBBB00;">{</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     <span style="color: #BB0000;">if</span> <span style="color: #0000BB;">(</span><span style="color: #00BB00;">!</span>surviving<span style="color: #0000BB;">)</span> <span style="color: #0000BB;">{</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         <span style="color: #BB0000;">if</span> <span style="color: #00BBBB;">(</span>individual.sex <span style="color: #00BB00;">==</span> <span style="color: #BBBB00;">"M"</span><span style="color: #00BBBB;">)</span> <span style="color: #00BBBB;">{</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             <span style="color: #00BBBB;">return</span><span style="color: #BBBB00;">(</span>p1000<span style="color: #BBBB00;">)</span>;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         <span style="color: #00BBBB;">}</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         <span style="color: #00BBBB;">return(</span><span style="color: #0000BB; font-weight: bold;">NULL</span><span style="color: #00BBBB;">)</span>;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     <span style="color: #0000BB;">}</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">}</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Russell Dinnage, Stephen Sarre, Bernd Gruber, Richard Duncan.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

