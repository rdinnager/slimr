---
title: "Introduction to Population Genetics modelling in slimr"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Introduction to Population Genetics modelling in slimr}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

Welcome to `slimr`, an R package designed to make advanced population genetics simulations powered by the *SLiM* software easy to write, run and analyse in R. Let's start with a quick example. `slimr` comes with all the SLiM "recipes" that are laid out in the excellent SliM manual. These are stored as character vectors of length 1. We can use one of these recipes to demonstrate the most basic functionality of `slimr`, to run a SLiM script from R. To run this code you will need to have installed the SLiM software and connected it to `slimr`. See the vignette "Installing SLiM for use with slimr" if you need help with that. First let's get the very first recipe from the SLiM manual, and print it out to see what it looks like.

```{r setup}
library(slimr)

recipe_1 <- slimr::get_recipe(recipe = 1)
cat(recipe_1)

```

We can now fee this directly into the `slim_run_script` function to run it in SLiM!

```{r run_slim_1}


```

So the returned value just tells us whether SLiM ran successfully or not. Also, there is not much to do now. Why? Because the recipe we ran didn't actually output anything. The recipes that come with SLiM are generally meant to be run with SLiMGUI, a mac-only piece of software that can monitor simulations from scripts like this, and give graphical information about what is happening while it runs. If we just run the script using the SLiM software itself, the simulation runs, but we can't see what is happening in it. In this case, we can get much more out of our script by first converting it into a `slim_script` object. This will allow `slimr` to run the script in such a way that we can get output from it without having to specify output in the SLiM language itself. Let's try this.

```{r convert2slim_script} 
slim_script_1 <- slimr::slim_script_from_text(recipe_1)
```

Now if we print this object out we get a slightly prettier output:

```{r output_slim_script}
slim_script_1
```

You might also notice a few changes. For one the comments have been removed because they are not relevant to the computation. Also, code block names have been added (with blue background). These can be used to refer to different blocks when manipulating the script in `slimr`.

